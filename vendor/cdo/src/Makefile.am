## Process this file with automake to produce Makefile.in
noinst_LTLIBRARIES = libcdo.la
libcdo_la_SOURCES = after_dvtrans.cc      \
				after_fctrans.cc          \
				after_namelist.cc         \
				after_sptrans.cc          \
				afterburner.h             \
				afterburnerlib.cc         \
				arithmetic.h              \
				bitinformation.cc         \
				bitinformation.h          \
				c_wrapper.h               \
				cdi_lockedIO.cc           \
				cdi_lockedIO.h            \
				cdi_uuid.h                \
				cdoStream.cc              \
				cdoStream.h               \
				cdo_cdi_wrapper.cc        \
				cdo_cdi_wrapper.h         \
				cdo_cmor.h                \
				cdo_data.cc               \
				cdo_data.h                \
				cdo_def_options.cc 		  \
				cdo_def_options.h         \
				cdo_default_values.cc     \
				cdo_default_values.h      \
				cdo_features.cc           \
				cdo_features.h            \
				cdo_fctrans.cc            \
				cdo_fctrans.h	          \
				cdo_fft.cc                \
				cdo_fft.h                 \
				cdo_fftw3.cc              \
				cdo_fftw3.h               \
				cdo_fill.cc               \
				cdo_fill.h                \
				cdo_getopt.cc             \
				cdo_getopt.h              \
				cdo_history.cc            \
				cdo_history.h             \
				cdo_math.cc               \
				cdo_math.h                \
				cdo_module.cc             \
				cdo_module.h              \
				cdo_omp.cc                \
				cdo_omp.h                 \
				cdo_options.cc            \
				cdo_options.h             \
				cdo_output.cc             \
				cdo_output.h              \
				cdo_pthread.cc            \
				cdo_pthread.h             \
				cdo_query.cc              \
				cdo_query.h               \
				cdo_read.cc               \
				cdo_rlimit.cc             \
				cdo_rlimit.h              \
				cdo_season.cc             \
				cdo_season.h              \
				cdo_settings.cc           \
				cdo_settings.h            \
				cdo_stepstat.h            \
				cdo_syntax_error.cc       \
				cdo_syntax_error.h        \
				cdo_node_attach_exception.h \
				cdo_exception.h           \
				cdo_timer.h               \
				cdo_varlist.cc            \
				cdo_varlist.h             \
				cdo_vlist.cc              \
				cdo_vlist.h               \
				cdo_zaxis.cc              \
				cdo_zaxis.h               \
				cellsearch_reg2d.cc       \
				cellsearch_reg2d.h        \
				cellsearch_spherepart.h   \
				cellsearch_unstruct.h     \
				cellsearch_utils.h        \
				cf_interface.h            \
				cfortran.h                \
				cfortran.h                \
				chunkspec.cc              \
				chunkspec.h               \
				cmortable_parser.cc       \
				color.cc                  \
				color.h                   \
				commandline.cc            \
				commandline.h             \
				compare.h                 \
				const.h                   \
				constants.cc              \
				constants.h               \
				convert_units.cc          \
				convert_units.h           \
				cpp_lib.h                 \
				cthread_debug.cc          \
				cthread_debug.h           \
				custom_modules.cc         \
				custom_modules.h          \
				dcw_reader.cc             \
				dcw_reader.h              \
				datarangelist.h           \
				datetime.cc               \
				datetime.h                \
				ecacore.cc                \
				ecacore.h                 \
				ecautil.cc                \
				ecautil.h                 \
				eigen_solution.cc         \
				eigen_solution.h          \
				expr.h                    \
				expr_core.cc              \
				expr_fun.cc               \
				expr_fun.h                \
				expr_lex.cc               \
				expr_yacc.cc              \
				expr_yacc.hh              \
				factory.h 				  \
				factory.cc				  \
				field.cc                  \
				field.h                   \
				field_functions.h         \
				field2.cc                 \
				field2_complex.cc         \
				fieldc.cc                 \
				fieldc_complex.cc         \
				field_memory.cc           \
				field_meridional.cc       \
				field_zonal.cc            \
				field_vinterp.cc          \
				field_vinterp.h           \
				field_trend.cc            \
				field_trend.h             \
				fileStream.cc             \
				fileStream.h              \
				memoryStream.cc             \
				memoryStream.h              \
				fill_1d.cc                \
				fill_1d.h                 \
				eof_mode.cc               \
				eof_mode.h	          \
				gaussian_latitudes.c      \
				gaussian_latitudes.h      \
				getMemorySize.c           \
				getRSS.c                  \
				grid_area.cc              \
				grid_define.cc            \
				grid_define.h             \
				grid_from_name.cc         \
				grid_gme.cc               \
				grid_icosphere.cc         \
				grid_cellsearch.cc        \
				grid_cellsearch.h         \
				grid_pointsearch.cc       \
				grid_pointsearch.h        \
				grid_print.cc             \
				grid_read.cc              \
				grid_read_pingo.cc        \
				grid_read_pingo.h         \
				griddes.cc                \
				griddes.h                 \
				griddes_h5.cc             \
				griddes_nc.cc             \
				hetaeta.cc                \
				hetaeta.h                 \
				institution.cc            \
				institution.h             \
				interpol.cc               \
				interpol.h                \
				knndata.cc                \
				knndata.h                 \
				libncl.h                  \
				listbuffer.h              \
				matrix_view.h             \
				merge_axis.cc             \
				merge_axis.h              \
				module_info.cc            \
				module_info.h             \
				modules.cc                \
				modules.h                 \
				mpim_grid/grid_convert.h  \
				mpim_grid/grid_proj.cc    \
				mpim_grid/grid_proj.h     \
				mpim_grid/grid_reduced.cc \
				mpim_grid/grid_reduced.h  \
				mpim_grid/grid_rot.h      \
				mpim_grid/grid_rot.cc     \
				mpim_grid/grid_rot.h      \
				mpim_grid/grid_healpix.cc \
				mpim_grid/grid_healpix.h  \
				mpim_grid/gridreference.cc\
				mpim_grid/gridreference.h \
				mpim_grid/mpim_grid.cc    \
				mpim_grid/mpim_grid.h     \
				mpim_grid/grid_options.cc \
				mpim_grid/grid_options.h  \
				mpmo.cc                   \
				mpmo.h                    \
				mpmo_color.cc             \
				mpmo_color.h              \
				namelist.cc               \
				namelist.h                \
				nanoflann.hpp             \
				operator_help.cc          \
				operator_help.h           \
				oper_args.cc              \
				oper_args.h               \
				par_io.cc                 \
				par_io.h                  \
				param_conversion.cc       \
				param_conversion.h        \
				parse_literals.cc         \
				parse_literals.h          \
				percentiles.cc            \
				percentiles.h             \
				percentiles_hist.cc       \
				percentiles_hist.h        \
				pipe.cc                   \
				pipe.h                    \
				pipeStream.cc             \
				pipeStream.h              \
				pmlist.cc                 \
				pmlist.h                  \
				printinfo.cc              \
				printinfo.h               \
				process.cc                \
				process.h                 \
				processManager.cc         \
				processManager.h          \
				parser.h                  \
				parser.cc                 \
				node.cc                   \
				node.h                    \
				point.h                   \
				pointsearch_reg2d.cc      \
				pointsearch_reg2d.h       \
				pointsearch_healpix.h     \
				pointsearch_unstruct.h    \
				pointsearch_kdtree.h      \
				pointsearch_nanoflann.h   \
				pointsearch_spherepart.h  \
				pointsearch_full.h        \
				pointsearch_utils.h       \
				process_int.cc            \
				process_int.h             \
				progress.cc               \
				progress.h                \
				pthread_debug.cc          \
				pthread_debug.h           \
				region.h                  \
				region.cc                 \
				remap.h                   \
				remapknn.h                \
				remap_bicubic.cc          \
				remap_bilinear.cc         \
				remap_conserv.cc          \
				remap_knn.cc              \
				remap_gradients.cc        \
				remap_grid.h              \
				remap_method_conserv.cc   \
				remap_method_conserv.h    \
				remap_point_search.cc     \
				remap_scrip_io.cc         \
				remap_search_reg2d.cc     \
				remap_stat.cc             \
				remap_store_link.cc       \
				remap_store_link.h        \
				remap_utils.cc            \
				remap_utils.h             \
				remap_vars.cc             \
				remap_vars.h              \
				remaplib.cc               \
				selboxinfo.h              \
				sellist.cc                \
				sellist.h                 \
				specspace.cc              \
				specspace.h               \
				statistic.cc              \
				statistic.h               \
				stdnametable.cc           \
				stdnametable.h            \
				table.cc                  \
				table.h                   \
				transform.h               \
				util_fileextensions.cc    \
				util_fileextensions.h     \
				util_files.cc             \
				util_files.h              \
				util_string.cc            \
				util_string.h             \
				util_wildcards.cc         \
				util_wildcards.h          \
				util_date.h               \
				varray.cc                 \
				varray.h                  \
				vector3d.h                \
				verifygrid.h              \
				vertical_interp.cc        \
				vertical_interp.h         \
				vertint_util.h		      \
				vertint_util.cc	          \
				workerthread.cc           \
				workerthread.h            \
				zaxis_print.cc
libcdo_la_SOURCES +=                      \
				json/jsmn.h               \
				json/jsmn.c
libcdo_la_SOURCES +=                              \
				kdtreelib/kdtree.h                \
				kdtreelib/kdtree_cartesian.cc     \
				kdtreelib/kdtree_common.cc        \
				kdtreelib/kdtree_spherical.cc     \
				kdtreelib/qsort.cc                \
				kdtreelib/pmergesort.cc           \
				kdtreelib/pqueue.cc               \
				kdtreelib/pqueue.h
#
libcdo_la_SOURCES += etopo.dat temp.dat mask.dat

#
bin_PROGRAMS = cdo
#
cdo_SOURCES  = cdo.cc
cdo_SOURCES +=  operators/Adisit.cc            \
				operators/Afterburner.cc       \
				operators/Arith.cc             \
				operators/Arithc.cc            \
				operators/Arithdays.cc         \
				operators/Arithlat.cc          \
				operators/Bitrounding.cc       \
				operators/Cat.cc               \
				operators/CDIread.cc           \
				operators/CDItest.cc           \
				operators/CDIwrite.cc          \
				operators/Change.cc            \
				operators/Change_e5slm.cc      \
				operators/Cloudlayer.cc        \
				operators/CMOR.cc              \
				operators/CMOR_lite.cc         \
				operators/CMOR_table.cc        \
				operators/Collgrid.cc          \
				operators/Command.cc           \
				operators/Comp.cc              \
				operators/Compc.cc             \
				operators/Complextorect.cc     \
				operators/Cond.cc              \
				operators/Cond2.cc             \
				operators/Condc.cc             \
				operators/Consecstat.cc        \
				operators/Copy.cc              \
				operators/DCW_util.cc          \
				operators/Dayarith.cc          \
				operators/Deltat.cc            \
				operators/Deltime.cc           \
				operators/Depth.cc             \
				operators/Derivepar.cc         \
				operators/Detrend.cc           \
				operators/Diff.cc              \
				operators/Distgrid.cc          \
				operators/Duplicate.cc         \
				operators/EcaIndices.cc        \
				operators/EcaEtccdi.cc         \
			    operators/Echam5ini.cc         \
				operators/Enlarge.cc           \
				operators/Enlargegrid.cc       \
				operators/Ensstat.cc           \
				operators/Ensstat3.cc          \
				operators/Ensval.cc            \
				operators/Eof.cc               \
				operators/Eof3d.cc             \
				operators/Eofcoeff.cc          \
				operators/Eofcoeff3d.cc        \
				operators/EstFreq.cc           \
				operators/Expr.cc              \
				operators/FC.cc                \
				operators/Filedes.cc           \
				operators/Fillmiss.cc          \
				operators/Filter.cc            \
				operators/Fldrms.cc            \
				operators/Fldstat.cc           \
				operators/Fldstat2.cc          \
				operators/Fourier.cc           \
				operators/Gengrid.cc           \
				operators/Getgridcell.cc       \
				operators/Gradsdes.cc          \
				operators/Gridboxstat.cc       \
				operators/Gridcell.cc          \
				operators/Gridsearch.cc        \
				operators/Harmonic.cc          \
				operators/Healpix.cc           \
				operators/Hi.cc                \
				operators/Histogram.cc         \
				operators/Importbinary.cc      \
				operators/Importcmsaf.cc       \
				operators/Importobs.cc         \
				operators/Importfv3grid.cc     \
				operators/Info.cc              \
				operators/Input.cc             \
				operators/Intgrid.cc           \
				operators/Intgridtraj.cc       \
				operators/Intlevel.cc          \
				operators/Intlevel3d.cc        \
				operators/Intntime.cc          \
				operators/Inttime.cc           \
				operators/Intyear.cc           \
				operators/Invert.cc            \
				operators/Invertlev.cc         \
				operators/Lic.cc               \
				operators/Longinfo.cc          \
				operators/Mapreduce.cc         \
				operators/Maskbox.cc           \
				operators/Mastrfu.cc           \
				operators/Math.cc              \
				operators/Merge.cc             \
				operators/Mergegrid.cc         \
				operators/Mergetime.cc         \
				operators/Merstat.cc           \
				operators/Monarith.cc          \
				operators/Mrotuv.cc            \
				operators/Mrotuvb.cc           \
				operators/NCL_wind.cc          \
				operators/Ninfo.cc             \
				operators/Nmldump.cc           \
				operators/Output.cc            \
				operators/Outputgmt.cc         \
				operators/Pack.cc              \
				operators/Pardup.cc            \
				operators/Pinfo.cc             \
				operators/Pressure.cc          \
				operators/Query.cc             \
				operators/Recttocomplex.cc     \
				operators/Regres.cc            \
				operators/Remapeta.cc          \
				operators/Remapgrid.cc         \
				operators/Remapweights.cc      \
				operators/Remapstat.cc         \
				operators/Replace.cc           \
				operators/Replacevalues.cc     \
				operators/Rhopot.cc            \
				operators/Rotuv.cc             \
				operators/Runpctl.cc           \
				operators/Runstat.cc           \
				operators/Samplegrid.cc        \
				operators/Samplegridicon.cc    \
				operators/Seascount.cc         \
				operators/Seaspctl.cc          \
				operators/Seasstat.cc          \
				operators/Seasmonstat.cc       \
				operators/Selbox.cc            \
				operators/Selgridcell.cc       \
				operators/Select.cc            \
				operators/Selmulti.cc          \
				operators/Seloperator.cc       \
				operators/Selrec.cc            \
				operators/Selregion.cc         \
				operators/Selsurface.cc        \
				operators/Seltime.cc           \
				operators/Selvar.cc            \
				operators/Selyearidx.cc        \
				operators/Set.cc               \
				operators/Setattribute.cc      \
				operators/Setbox.cc            \
				operators/Setchunkspec.cc      \
				operators/Setfilter.cc         \
				operators/Setgrid.cc           \
				operators/Setgridcell.cc       \
				operators/Sethalo.cc           \
				operators/Setmiss.cc           \
				operators/Setpartab.cc         \
				operators/Setrcaname.cc        \
				operators/Settime.cc           \
				operators/Setzaxis.cc          \
				operators/Shiftxy.cc           \
				operators/Showinfo.cc          \
				operators/Showattribute.cc     \
				operators/Sinfo.cc             \
				operators/Smooth.cc            \
				operators/Sort.cc              \
				operators/Sorttimestamp.cc     \
				operators/Specinfo.cc          \
				operators/Spectral.cc          \
				operators/Spectrum.cc          \
				operators/Split.cc             \
				operators/Splitdate.cc         \
				operators/Splitrec.cc          \
				operators/Splitsel.cc          \
				operators/Splittime.cc         \
				operators/Splityear.cc         \
				operators/Tee.cc               \
				operators/Test.cc              \
				operators/Tests.cc             \
				operators/Timcount.cc          \
				operators/Timcumsum.cc         \
				operators/Timfillmiss.cc       \
				operators/Timpctl.cc           \
				operators/Timselpctl.cc        \
				operators/Timselstat.cc        \
				operators/Timsort.cc           \
				operators/Timstat.cc           \
				operators/Timstat2.cc          \
				operators/Timstat3.cc          \
				operators/Tinfo.cc             \
				operators/Tocomplex.cc         \
				operators/Transpose.cc         \
				operators/Trend.cc             \
				operators/Trendarith.cc        \
				operators/Tstepcount.cc        \
				operators/Unpack.cc            \
				operators/Vargen.cc            \
				operators/Varrms.cc            \
				operators/Varsstat.cc          \
				operators/Vertfillmiss.cc      \
				operators/Vertintap.cc         \
				operators/Vertintgh.cc         \
				operators/Vertintml.cc         \
				operators/Vertintzs.cc         \
				operators/Vertstat.cc          \
				operators/Vertcum.cc           \
				operators/Vertwind.cc          \
				operators/Verifygrid.cc        \
				operators/Verifyweights.cc     \
				operators/Wct.cc               \
				operators/Wind.cc              \
				operators/Windtrans.cc         \
				operators/Writegrid.cc         \
				operators/Writerandom.cc       \
				operators/Yeararith.cc         \
				operators/Yearmonstat.cc       \
				operators/Ydayarith.cc         \
				operators/Ydaypctl.cc          \
				operators/Ydaystat.cc          \
				operators/Ydrunpctl.cc         \
				operators/Ydrunstat.cc         \
				operators/Yhourarith.cc        \
				operators/Yhourstat.cc         \
				operators/Ymonarith.cc         \
				operators/Ymoncomp.cc          \
				operators/Ymonpctl.cc          \
				operators/Ymonstat.cc          \
				operators/Yseaspctl.cc         \
				operators/Yseasstat.cc         \
				operators/Zonstat.cc

#if ENABLE_MAGICS
cdo_SOURCES +=			operators/Maggraph.cc                     \
				operators/Magplot.cc                      \
				operators/Magvector.cc                    \
				template_parser.h               \
				template_parser.cc              \
				results_template_parser.h       \
				results_template_parser.cc      \
				magics_template_parser.h        \
				magics_template_parser.cc       \
				cdo_magics_mapper.h             \
				cdo_magics_mapper.cc
#endif

cdo_CPPFLAGS = -I$(top_srcdir)/libcdi/src -I$(top_srcdir)/src/mpim_grid -I$(top_srcdir)/src/lib/yac/clapack/INCLUDE
cdo_CPPFLAGS += -DYAC_FOR_CDO
cdo_LDADD    = libcdo.la $(top_builddir)/libcdi/src/libcdi.la
cdo_LDADD   += $(top_builddir)/src/lib/yac/src/libyac.la
cdo_LDADD   += $(top_builddir)/src/lib/yac/clapack/libyac_clapack.la
cdo_LDADD   += $(top_builddir)/src/lib/gradsdes/libgradsdes.la
cdo_LDADD   += $(top_builddir)/src/lib/healpix/libhealpix.la
if USE_F77
cdo_LDADD   += $(top_builddir)/src/lib/ncl/libncl.la
endif
cdo_LDFLAGS  =

if ENABLE_ALL_STATIC
cdo_LDFLAGS  += -all-static
endif

libcdo_la_CPPFLAGS = $(cdo_CPPFLAGS)
noinst_PROGRAMS  = cdotest
cdotest_SOURCES  = cdotest.cc
cdotest_LDADD    = $(cdo_LDADD)
cdotest_CPPFLAGS = $(cdo_CPPFLAGS)
cdotest_LDFLAGS  = $(cdo_LDFLAGS)
if ENABLE_ALL_STATIC
cdotest_LDFLAGS  += -all-static
endif

CLEANFILES  = `ls *~ 2> /dev/null`
#
clean-local: clean-local-dirs
.PHONY: clean-local-dirs
clean-local-dirs:
	-rm -rf *.dSYM
